<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Cubo AR Geo-Localizado</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- A-Frame, a biblioteca base para WebXR -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- AR.js, para funcionalidades de Realidade Aumentada baseada em localização -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-gps.js"></script>

    <style>
        .instructions {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 500px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            z-index: 10;
            padding: 15px;
            text-align: center;
            border-radius: 10px 10px 0 0;
            font-family: sans-serif;
        }
    </style>
</head>

<body style="margin: 0; overflow: hidden;">
    
    <div class="instructions">
        <p>A procurar a sua localização... Se estiver no local certo, um cubo preto aparecerá.</p>
    </div>

    <!-- A 'cena' de A-Frame é onde a mágica da AR acontece -->
    <a-scene
        <!-- A linha abaixo desativa o botão para entrar no modo de Realidade Virtual (VR) -->
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
        renderer="antialias: true; alpha: true"
    >
        <!-- A câmara representa a sua visão. O componente 'gps-camera' a conecta ao GPS do seu dispositivo.
             'minDistance' e 'maxDistance' controlam a que distância os objetos são renderizados. -->
        <a-camera gps-camera="minDistance: 5; maxDistance: 50" rotation-reader></a-camera>

        <!-- 
            ESTE É O OBJETO GEO-BLOQUEADO.
            Altere os valores de 'latitude' e 'longitude' para as coordenadas exatas da sua casa.
            O cubo só será visível quando o seu dispositivo estiver muito perto destas coordenadas.
        -->
        <a-entity gps-entity-place="latitude: -23.0065; longitude: -44.3200;">
            
            <!-- O cubo preto -->
            <a-box 
                color="white" 
                scale="1 1 1"
                position="0 1 0">
            </a-box>
            
            <!-- Texto informativo que aparece com o cubo -->
            <a-text
                value="Objeto Secreto Encontrado!"
                look-at="[gps-camera]"
                scale="5 5 5"
                position="0 3.5 0"
                align="center">
            </a-text>

        </a-entity>

    </a-scene>
</body>
</html>
