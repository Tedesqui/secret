<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Vídeo em Realidade Aumentada</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <!-- A-Frame, a biblioteca base para WebXR -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- AR.js para a funcionalidade de Realidade Aumentada -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">
    <div style="position: fixed; top: 10px; width: 100%; text-align: center; z-index: 1; color: white; font-family: sans-serif;">
        <p>O vídeo aparecerá à sua frente.</p>
    </div>

    <!-- A 'cena' de A-Frame é onde a mágica da AR acontece -->
    <a-scene
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
        renderer="antialias: true; alpha: true"
    >
        <!-- Pré-carrega o vídeo para um melhor desempenho -->
        <a-assets>
            <!-- Substitua o 'src' pelo caminho do seu vídeo -->
            <video 
                id="helinhoVideo" 
                src="videos/helinho.mp4"
                preload="auto" 
                autoplay 
                loop 
                crossorigin="anonymous" 
                playsinline 
                webkit-playsinline 
                muted="false">
            </video>
        </a-assets>

        <!-- 
            A câmara representa a sua visão.
            O vídeo é colocado DENTRO da câmara para que se mova com ela.
        -->
        <a-camera>
            <a-video
                src="videos/helinho.mp4"
                width="1.6"
                height="0.9"
                <!-- Posição relativa à câmara: 0 no eixo X, -0.5 no Y (um pouco abaixo), -3 no Z (3 metros à frente) -->
                position="0 -0.5 -3">
            </a-video>
        </a-camera>

    </a-scene>

    <!-- Script para tentar desmutar o vídeo após uma interação do utilizador -->
    <script>
        document.body.addEventListener('click', function () {
            const video = document.querySelector('#helinhoVideo');
            if (video) {
                video.muted = false;
            }
        });
    </script>

</body>
</html>
